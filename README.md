# Slim Jim's Website

A FERN webapp written for a small discord server of friends: Slim Jim's

## Running Locally

### Frontend - React:

cd into /frontend and run npm install\
npm run start or node index.js\
When launched locally should run on port 3000, 
open [http://localhost:3000](http://localhost:3000) to view in browser.

The page will reload if you make edits.\
You will also see any lint errors in the console.

### Backend - Express:

cd into /backend and run npm install\
npm run start or node server.js\
When launched locally should run on port specified in .env,
I'm running on 3001 in dev environment.\
Firebase datastore requires a service-account-key.json



## Deployment
The deployed version of this app runs a little bit differently to the development
environment. Instead of the react and express apps running as different processes, the compiled version of the react app generated by its build script is served by the express app. All calls to the express app other than /api are assumed to be to the react app and are all served as such.

### Dockerfile
The Dockerfile in the root folder of this repository generates an image by following the exact same steps as below. I'm currently compiling the react app manually because GCP doesn't like something about the first stage of the Dockerfile included, idk why. 

### Compilling Frontend
cd into /frontend\
npm install --production\
npm run build\
Build folder will be generated in /frontend/build, needs to be moved into backend/build for express app to serve to user.

### Running Production Backend
cd into /backend\
change .env so PROD=true\
npm install --production\
npm run start

### - *George Holden, June 2022*